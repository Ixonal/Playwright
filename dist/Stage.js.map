{"version":3,"sources":["Stage.js","Stage.ts"],"names":["System","register","exports_1","context_1","es6_symbol_1","rendering_1","EventFactory_1","Stage","id","setters","es6_symbol_1_1","rendering_1_1","EventFactory_1_1","execute","rootSelector","this","_renderer","_scenes","_eventFactory","_root","document","querySelector","EventFactory","Object","defineProperty","prototype","get","eventStream","enumerable","configurable","lights","innerHTML","_canvas","createElement","style","top","left","right","bottom","appendChild","Renderer","curtain","intermission","render","RIGHT","Symbol","LEFT"],"mappings":"AAAAA,OAAOC,UAAU,aAAc,cAAe,yBAA0B,SAASC,EAAWC,GACxF,YACA,IACIC,GAAcC,EAAaC,EAC3BC,CAFeJ,IAAaA,EAAUK,EAG1C,QACIC,SACI,SAAUC,GACNN,EAAeM,GAEnB,SAAUC,GACNN,EAAcM,GAElB,SAAUC,GACNN,EAAiBM,IAEzBC,QAAS,WCVjBN,EAAA,WACE,QAAAA,GAAYO,GAQFC,KAAAC,UAAsB,KAGtBD,KAAAE,WACAF,KAAAG,cAA8B,KATtCH,KAAKI,MAAQC,SAASC,cAAcP,GAAgB,QAEpDC,KAAKG,cAAgB,GAAIZ,GAAAgB,aAAaP,MAmD1C,MA1CEQ,QAAAC,eAAWjB,EAAAkB,UAAA,eDKOC,ICLlB,WACE,MAAOX,MAAKG,cAAcS,aDOVC,YAAY,EACZC,cAAc,ICLhCN,OAAAC,eAAWjB,EAAAkB,UAAA,QDQOC,ICRlB,WACE,MAAOX,MAAKI,ODUIS,YAAY,EACZC,cAAc,ICRzBtB,EAAAkB,UAAAK,OAAP,WAiBE,MAdAf,MAAKI,MAAMY,UAAY,GAGvBhB,KAAKiB,QAA6BZ,SAASa,cAAc,UAEzDlB,KAAKiB,QAAQE,MAAMC,IAAM,IACzBpB,KAAKiB,QAAQE,MAAME,KAAO,IAC1BrB,KAAKiB,QAAQE,MAAMG,MAAQ,IAC3BtB,KAAKiB,QAAQE,MAAMI,OAAS,IAC5BvB,KAAKI,MAAMoB,YAAYxB,KAAKiB,SAG5BjB,KAAKC,UAAY,GAAIX,GAAAmC,SAASzB,KAAKiB,SAE5BjB,MAGFR,EAAAkB,UAAAgB,QAAP,WACE,MAAO1B,OAGFR,EAAAkB,UAAAiB,aAAP,WACE,MAAO3B,OAGFR,EAAAkB,UAAAkB,OAAP,aAIcpC,EAAAqC,MAAgBxC,EAAAyC,SAChBtC,EAAAuC,KAAe1C,EAAAyC,SAC/BtC,KAzDAL,EAAA,QAAAK","file":"Stage.js","sourcesContent":["System.register([\"es6-symbol\", \"./rendering\", \"./events/EventFactory\"], function(exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 && context_1.id;\n    var es6_symbol_1, rendering_1, EventFactory_1;\n    var Stage;\n    return {\n        setters:[\n            function (es6_symbol_1_1) {\n                es6_symbol_1 = es6_symbol_1_1;\n            },\n            function (rendering_1_1) {\n                rendering_1 = rendering_1_1;\n            },\n            function (EventFactory_1_1) {\n                EventFactory_1 = EventFactory_1_1;\n            }],\n        execute: function() {\n            Stage = (function () {\n                function Stage(rootSelector) {\n                    this._renderer = null;\n                    this._scenes = [];\n                    this._eventFactory = null;\n                    this._root = document.querySelector(rootSelector || \"body\");\n                    this._eventFactory = new EventFactory_1.EventFactory(this);\n                }\n                Object.defineProperty(Stage.prototype, \"eventStream\", {\n                    get: function () {\n                        return this._eventFactory.eventStream;\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n                Object.defineProperty(Stage.prototype, \"root\", {\n                    get: function () {\n                        return this._root;\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n                Stage.prototype.lights = function () {\n                    this._root.innerHTML = \"\";\n                    this._canvas = document.createElement(\"canvas\");\n                    this._canvas.style.top = \"0\";\n                    this._canvas.style.left = \"0\";\n                    this._canvas.style.right = \"0\";\n                    this._canvas.style.bottom = \"0\";\n                    this._root.appendChild(this._canvas);\n                    this._renderer = new rendering_1.Renderer(this._canvas);\n                    return this;\n                };\n                Stage.prototype.curtain = function () {\n                    return this;\n                };\n                Stage.prototype.intermission = function () {\n                    return this;\n                };\n                Stage.prototype.render = function () {\n                };\n                Stage.RIGHT = es6_symbol_1.Symbol();\n                Stage.LEFT = es6_symbol_1.Symbol();\n                return Stage;\n            }());\n            exports_1(\"Stage\", Stage);\n        }\n    }\n});","import { Observable } from \"rxjs\";\r\nimport { Symbol } from \"es6-symbol\";\r\nimport { Scene } from \"./scene/Scene\";\r\nimport { IRenderable, Renderer } from \"./rendering\";\r\nimport { EventFactory } from \"./events/EventFactory\";\r\n\r\nexport class Stage implements IRenderable {\r\n  constructor(rootSelector: string) {\r\n    \r\n    //locate the root element\r\n    this._root = document.querySelector(rootSelector || \"body\");\r\n    \r\n    this._eventFactory = new EventFactory(this);\r\n  }\r\n  \r\n  protected _renderer: Renderer = null;\r\n  protected _root: Element;\r\n  protected _canvas: HTMLCanvasElement;\r\n  protected _scenes: Scene[] = [];\r\n  protected _eventFactory: EventFactory = null;\r\n  \r\n  public get eventStream() {\r\n    return this._eventFactory.eventStream;\r\n  }\r\n  \r\n  public get root() {\r\n    return this._root;\r\n  }\r\n  \r\n  public lights(): Stage {\r\n    \r\n    //clear the root element out\r\n    this._root.innerHTML = \"\";\r\n    \r\n    //create a canvas element and put it in the root element\r\n    this._canvas = <HTMLCanvasElement>document.createElement(\"canvas\");\r\n    //fill in the whole area\r\n    this._canvas.style.top = \"0\";\r\n    this._canvas.style.left = \"0\";\r\n    this._canvas.style.right = \"0\";\r\n    this._canvas.style.bottom = \"0\";\r\n    this._root.appendChild(this._canvas);\r\n    \r\n    //create a renderer for the canvas\r\n    this._renderer = new Renderer(this._canvas);\r\n    \r\n    return this;\r\n  }\r\n  \r\n  public curtain(): Stage {\r\n    return this;\r\n  }\r\n  \r\n  public intermission(): Stage {\r\n    return this;\r\n  }\r\n  \r\n  public render(): void {\r\n    \r\n  }\r\n  \r\n  public static RIGHT: symbol = Symbol();\r\n  public static LEFT: symbol = Symbol();\r\n}\r\n"],"sourceRoot":"/source/"}